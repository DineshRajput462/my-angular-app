<h1>API </h1><br>

<button (click)="getAll()" class="btn btn-primary">Get All Data</button>

<form #userForm="ngForm" (ngSubmit)="save(userForm)" class="row mb-5 mt-5">
    <div class="col-12">
        <label for="name" class="form-label">Name</label>
        <input type="text" name="name" id="name" class="form-control" required [ngModel]="selectedUser?.name"><br>
    </div>
    <div class="col-md-4">
        <label for="city" class="form-label">City</label>
        <input type="text" name="city" id="city" class="form-control" required [ngModel]="selectedUser?.city"><br>
    </div>
    <div class="col-md-4">
        <label for="state" class="form-label">State</label>
        <input type="text" name="state" id="state" class="form-control" required [ngModel]="selectedUser?.state"><br>
    </div>
    <div class="col-md-4">
        <label for="country" class="form-label">Country</label>
        <input type="text" name="country" id="country" class="form-control" required [ngModel]="selectedUser?.country"><br>
    </div>

    <button class="btn btn-success" [disabled]="userForm.invalid">
        {{selectedUser ? 'Update' : 'Add'}} User
    </button>
</form>

<div class="table-responsive">
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">City</th>
                <th scope="col">State</th>
                <th scope="col">Country</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            @for (user of users; track $index) {
            <tr>
                <td>{{user.name}}</td>
                <td>{{user.city}}</td>
                <td>{{user.state}}</td>
                <td>{{user.country}}</td>
                <td class="text-center">
                    <button class="btn btn-primary btn-sm" (click)="edit(user.id)">
                        <i class="bi bi-pencil"></i>
                    </button>&nbsp;
                    <button class="btn btn-danger btn-sm" (click)="remove(user.id)">
                        <i class="bi bi-x-circle"></i>
                    </button>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>